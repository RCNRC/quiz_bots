# quiz_bots

Боты, представляющие собой игру "викторина". Запущенный [бот для telegram](https://t.me/quiz_dvmn_3412_bot). Запущенный [бот для vk сообщества](https://vk.com/club222495260).

## Установка и подготовка

Требуется [Python](https://www.python.org/downloads/) версии 3.7 или выше и установленный [pip](https://pip.pypa.io/en/stable/getting-started/).

1. Скачайте репозиторий.
2. Установите необходимые зависимости:  
   - Для Unix/macOs:`python -m pip install -r requirements.txt`
   - Для Windows:`py -m pip install --destination-directory DIR -r requirements.txt`
3. В корне репозитория создайте пустой файл `.env`
4. Создайте нового телеграмм бота у [BotFather](https://telegram.me/BotFather). По итогу вы должны получить `token` от нового бота.
5. В файл `.env` добавить строку `TELEGRAM_BOT_API_TOKEN=token`, где `token` - полученный на шаге 6 токен от [BotFather](https://telegram.me/BotFather).
6. Создайте [сообщество](https://vk.com/groups?tab=admin) в Vk или получите к нему права администратора. Убедитесь что у сообщества установлено разрешение на сообщения а также "включены" "возможности для ботов" в настройках для ботов.
7. В файл `.env` добавить строку `VK_BOT_API_TOKEN=token`, где `token` - ключ доступа сообщества, у которого должны быть разрешения на "управление сообществом" и "сообщения сообщества".
8. Создайте нового телеграмм бота для логгирования у [BotFather](https://telegram.me/BotFather). По итогу вы должны получить `token` от нового бота.
9.  В файл `.env` добавить строку `TELEGRAM_BOT_LOGGER_API_TOKEN=token`, где `token` - полученный на шаге 9 токен от [BotFather](https://telegram.me/BotFather).
10. В файл `.env` добавить строку `TELEGRAM_CHAT_ID=id`, где `id` - "id" в телеграмме, куда бот логгер будет отправлять возникающе ошибки. 
   - Если не знаете ваш "id", воспользуйтесь специальным [ботом](https://telegram.me/userinfobot).
11. Создайте базу данных [Redis](https://redislabs.com/), получите хост, порт и пароль.
12. В файл `.env` добавить строку `REDIS_HOST=host`, где `host` - хост от базы данных Redis, полученный на шаге 11.
13. В файл `.env` добавить строку `REDIS_PORT=port`, где `port` - порт от базы данных Redis, полученный на шаге 11.
14. В файл `.env` добавить строку `REDIS_PASSWORD=password`, где `password` - пароль от базы данных Redis, полученный на шаге 11.


## Дополнительно

[Папка с вопросами](./quiz-questions/), где лежат примеры вопросов. Чтобы добавить свои вопросы, создайте в папке с вопросами файл .txt в кодировке "KOIR-8R" со следующим форматом:
```txt
...

Вопрос 8:
вопрос вопрос вопрос,
вопрос ...


Ответ:
Ответ ответ. Пояснение.

Вопрос 9:
вопрос вопрос вопрос, вопрос вопрос!
вопрос ...

Ответ:
Ответ ответ (Пояснение).

...
```
